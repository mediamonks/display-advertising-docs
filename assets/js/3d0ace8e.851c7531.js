"use strict";(self.webpackChunkdisplay_advertising_docs=self.webpackChunkdisplay_advertising_docs||[]).push([[504],{3905:function(e,n,t){t.d(n,{Zo:function(){return c},kt:function(){return u}});var a=t(7294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,a,i=function(e,n){if(null==e)return{};var t,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var d=a.createContext({}),m=function(e){var n=a.useContext(d),t=n;return e&&(t="function"==typeof e?e(n):r(r({},n),e)),t},c=function(e){var n=m(e.components);return a.createElement(d.Provider,{value:n},e.children)},l={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},p=a.forwardRef((function(e,n){var t=e.components,i=e.mdxType,o=e.originalType,d=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),p=m(t),u=i,h=p["".concat(d,".").concat(u)]||p[u]||l[u]||o;return t?a.createElement(h,r(r({ref:n},c),{},{components:t})):a.createElement(h,r({ref:n},c))}));function u(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var o=t.length,r=new Array(o);r[0]=p;var s={};for(var d in n)hasOwnProperty.call(n,d)&&(s[d]=n[d]);s.originalType=e,s.mdxType="string"==typeof e?e:i,r[1]=s;for(var m=2;m<o;m++)r[m]=t[m];return a.createElement.apply(null,r)}return a.createElement.apply(null,t)}p.displayName="MDXCreateElement"},9789:function(e,n,t){t.r(n),t.d(n,{assets:function(){return c},contentTitle:function(){return d},default:function(){return u},frontMatter:function(){return s},metadata:function(){return m},toc:function(){return l}});var a=t(7462),i=t(3366),o=(t(7294),t(3905)),r=["components"],s={sidebar_position:10},d="Dynamic Creative Optimization",m={unversionedId:"guides/dco",id:"guides/dco",title:"Dynamic Creative Optimization",description:"About building dynamic creatives:",source:"@site/docs/guides/dco.md",sourceDirName:"guides",slug:"/guides/dco",permalink:"/display-advertising-docs/docs/guides/dco",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/guides/dco.md",tags:[],version:"current",lastUpdatedAt:1675787626,formattedLastUpdatedAt:"2/7/2023",sidebarPosition:10,frontMatter:{sidebar_position:10},sidebar:"tutorialSidebar",previous:{title:"Ads Recorder",permalink:"/display-advertising-docs/docs/guides/recorder"},next:{title:"Custom globs for npm dev/build",permalink:"/display-advertising-docs/docs/guides/globbing-dev-build"}},c={},l=[{value:"Feed configuration",id:"feed-configuration",level:2},{value:"Tips &amp; tricks",id:"tips--tricks",level:2},{value:"Enabler",id:"enabler",level:2},{value:"ExitUrl",id:"exiturl",level:3}],p={toc:l};function u(e){var n=e.components,t=(0,i.Z)(e,r);return(0,o.kt)("wrapper",(0,a.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"dynamic-creative-optimization"},"Dynamic Creative Optimization"),(0,o.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"About building dynamic creatives:\n",(0,o.kt)("a",{parentName:"p",href:"https://support.google.com/richmedia/topic/7410422?hl=en&ref_topic=7486153"},"https://support.google.com/richmedia/topic/7410422?hl=en&ref_topic=7486153")),(0,o.kt)("p",{parentName:"div"},"About preview dynamic creatives:\n",(0,o.kt)("a",{parentName:"p",href:"https://support.google.com/richmedia/topic/6273205?hl=en&ref_topic=7486153"},"https://support.google.com/richmedia/topic/6273205?hl=en&ref_topic=7486153")))),(0,o.kt)("h2",{id:"feed-configuration"},"Feed configuration"),(0,o.kt)("p",null,"The Generate Code contains some important information, such as the Profile Id and the general structure of the data feed you'll be using. The Generate Code is the tool you need to develop your creative unit in a dynamic way."),(0,o.kt)("p",null,"Data team should be responsible for setting up the Studio environment and handing you the Generate Code."),(0,o.kt)("p",null,"You must replace the default code for the Studio's Generated Code in the getDynamicData() function in the getDynamicData.js file of your project."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'export default function getDynamicData() {\n\n  /*****************************************************************************************************************************\n   *  Paste DC Dynamic Code HERE                                                                                               *\n   *****************************************************************************************************************************/\n\n  // Dynamic Content variables and sample values\n    Enabler.setProfileId(00000000); \n    var devDynamicContent = {};\n\n    devDynamicContent.some_project_name = [{}];\n    devDynamicContent.some_project_name[0]._id = 0;\n    devDynamicContent.some_project_name[0].Unique_ID = 0;\n    devDynamicContent.some_project_name[0].Reporting_Label = "dummy_info";\n    devDynamicContent.some_project_name[0].Headline_Copy_Reporting = "dummy_info";\n    devDynamicContent.some_project_name[0].Image_Series_Reporting = "dummy_info";\n    devDynamicContent.some_project_name[0].Image_Reporting = "dummy_info";\n    devDynamicContent.some_project_name[0].CTA_Copy = "dummy_info";\n    devDynamicContent.some_project_name[0].CTA_Button_Color = "dummy_info";\n    devDynamicContent.some_project_name[0].Background_Color = "dummy_info";\n    devDynamicContent.some_project_name[0].Footer_Color_Reporting = "dummy_info";\n    devDynamicContent.some_project_name[0].Headline_Copy = "dummy_info";\n    devDynamicContent.some_project_name[0].Image = {};\n    devDynamicContent.some_project_name[0].Image.Type = "file";\n    devDynamicContent.some_project_name[0].Image.Url = "dummy_info";\n    devDynamicContent.some_project_name[0].Exit_URL = {};\n    devDynamicContent.some_project_name[0].Exit_URL.Url = "dummy_info";\n    devDynamicContent.some_project_name[0].Active = true;\n    Enabler.setDevDynamicContent(devDynamicContent);\n\n  /*****************************************************************************************************************************\n   *  END Paste DC Dynamic Code                                                                                                *\n   *****************************************************************************************************************************/\n\n  let feedName = Object.keys(devDynamicContent)[0];\n\n  return window.dynamicContent[feedName][0];\n}\n')),(0,o.kt)("p",null,"In your Banner.js file you will be setting up your feed variable with the getDynamicData() function."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"async init() {\n    ...\n    this.feed = getDynamicData();\n    ...\n}\n")),(0,o.kt)("p",null,"You can now access the dynamic information of the feed by calling its attributes.\nThis way you are connecting these values to the dynamic data feed. The values will change accordingly once the unit is uploaded to the Studio environment."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"async init() {\n    ...\n    // Select elements\n    const title = document.body.querySelector('#title');\n\n    // Asign values\n    title.innerHTML = this.feed.Headline_Copy;\n    ...\n\n}\n")),(0,o.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"For further information visit:\n",(0,o.kt)("a",{parentName:"p",href:"https://support.google.com/richmedia/answer/3526354?hl=en#zippy=%2Csample-setup-code-from-step-generate-code"},"https://support.google.com/richmedia/answer/3526354?hl=en#zippy=%2Csample-setup-code-from-step-generate-code")))),(0,o.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"important")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Note that it is possible to receive a multiple-feed Generate Code for your project. Please check the Tips & tricks section for further information."))),(0,o.kt)("h2",{id:"tips--tricks"},"Tips & tricks"),(0,o.kt)("p",null,'If you receive a multiple-feed Generate Code you may find useful to return the feed as a simplified key-value pair of the various feeds that you can then access in the Banner.js from the "feed" variable. This way you can access to every feed separately as needed.'),(0,o.kt)("p",null,"Here is an example: "),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'export default function getDynamicData() {\n\n  /*****************************************************************************************************************************\n   *  Paste DC Dynamic Code HERE                                                                                               *\n   *****************************************************************************************************************************/\n\n  // Dynamic Content variables and sample values\n    Enabler.setProfileId(00000000); \n    var devDynamicContent = {};\n\n    devDynamicContent.Campaign_Feed = [{}];\n    devDynamicContent.Campaign_Feed[0]._id = 0;\n    devDynamicContent.Campaign_Feed[0].CTA_Copy = "Get started";\n    devDynamicContent.Campaign_Feed[0].Headline_Copy = "One-click ecommerce integrations_Connect your online store in no time_Email + SMS just got easier";\n\n    devDynamicContent.Selection_Feed = [{}];\n    devDynamicContent.Selection_Feed[0]._id = 0;\n    devDynamicContent.Selection_Feed[0].Image_Series = "CeramistStudio";\n    devDynamicContent.Selection_Feed[0].Image_Reporting = "CeramistStudioPotteryWheel_CeramistSmilingStudio_WooCommerce";\n\n    devDynamicContent.Destination_Feed = [{}];\n    devDynamicContent.Destination_Feed[0]._id = 0;\n    devDynamicContent.Destination_Feed[0].CTA_Button_Color = "Charcoal";\n    devDynamicContent.Destination_Feed[0].Background_Color = "Cotton";\n\n    Enabler.setDevDynamicContent(devDynamicContent);\n\n  /*****************************************************************************************************************************\n   *  END Paste DC Dynamic Code                                                                                                *\n   *****************************************************************************************************************************/\n\n    let feedNames = Object.keys(devDynamicContent);\n\n    const multipleFeed = Object.fromEntries(feedNames.map(\n        (fName) => [fName, window.dynamicContent[fName][0]])\n      );\n\n    return multipleFeed;\n}\n')),(0,o.kt)("p",null,"And in your Banner.js:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"\nasync init() {\n    ...\n    this.feed = getDynamicData();\n    let ctaCopy = this.feed.Campaign_Feed.CTA_Copy; // 'Get started'\n    ...\n}\n\n")),(0,o.kt)("h2",{id:"enabler"},"Enabler"),(0,o.kt)("p",null,"The Enabler is a library required for all DCO creatives in Studio. It provides a singleton object in the global namespace called Enabler. You can call methods on it.\nThe Enabler ensures that your creative includes standard tracking functionality for metrics."),(0,o.kt)("p",null,"In the index.hbs file of your project you will find the script tag that links to the Enabler. You must also set the Profile Id number here."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'  <script src="https://s0.2mdn.net/ads/studio/Enabler.js">\n    // please change profile id.\n    Enabler.setProfileId(1075235);\n  <\/script>\n')),(0,o.kt)("p",null,"In the Banner.js file, you will find a util that is used to wait for the Enabler to be ready before initializing the banner."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"import untilEnablerIsInitialized from '@mediamonks/temple/doubleclick/untilEnablerIsInitialized';\n...\n  async init() {\n    await untilEnablerIsInitialized();\n    ...\n  }\n  ...\n")),(0,o.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"The Profile Id number is the code for linking your creative with the Studio profile."),(0,o.kt)("p",{parentName:"div"},"For further information visit ",(0,o.kt)("a",{parentName:"p",href:"https://support.google.com/richmedia/answer/2672553?hl=en"},"https://support.google.com/richmedia/answer/2672553?hl=en")))),(0,o.kt)("h3",{id:"exiturl"},"ExitUrl"),(0,o.kt)("p",null,"If the exit URL is assigned through the feed, you can use something like this in your Banner.js file:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"  async init() {\n    ...\n    this.mainExit = this.feed.exitUrl.Url;\n    ...\n  }\n")),(0,o.kt)("p",null,"The default method used in our framework is an Enabler method.\nThe first parameter is an ID that can be used to override the exit later if needed and the second parameter is the URL you've assigned."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"  handleClick = () => {\n    Enabler.exitOverride('Default Exit', this.mainExit);\n  };\n")),(0,o.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"important")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Producers may ask you to use a different method to cover some specific needs. "),(0,o.kt)("p",{parentName:"div"},"You can find more information about Enabler methods here: ",(0,o.kt)("a",{parentName:"p",href:"https://www.google.com/doubleclick/studio/docs/sdk/html5/en/class_studio_Enabler.html#api"},"https://www.google.com/doubleclick/studio/docs/sdk/html5/en/class_studio_Enabler.html#api")))),(0,o.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"For further information on DCO exits visit ",(0,o.kt)("a",{parentName:"p",href:"https://support.google.com/richmedia/answer/2664807?hl=en"},"https://support.google.com/richmedia/answer/2664807?hl=en")))))}u.isMDXComponent=!0}}]);